<!DOCTYPE html>
<html>
<head>
    <title>Bookmark Manager</title>
    <!-- Include Tailwind CSS from CDN -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
    <div class="container mx-auto my-8">
        <h1 class="text-2xl font-bold text-gray-700 mb-4">Bookmarked Pages</h1>
        <!-- Search Field -->
        <input type="text" id="tagSearch" placeholder="Search by tag..." class="mb-4 p-2 border rounded w-full">

        <table class="min-w-full table-auto">
            <thead class="bg-gray-200">
                <tr>
                    <th class="px-4 py-2">URL</th>
                    <th class="px-4 py-2">Tags</th>
                    <th class="px-4 py-2">Date</th>
                </tr>
            </thead>
<tbody>
    <!-- Iterate through bookmarks and display them -->
    {% for bookmark in bookmarks %}
    <tr class="bg-white border-b">
        <td class="px-4 py-2">{{ bookmark.url }}</td>
        <td class="px-4 py-2">
            <!-- Display existing tags -->
            <div id="tags-{{bookmark.id}}">
                {% for tag in bookmark.tags %}
                <span class="inline-block bg-blue-100 text-blue-700 p-1 mr-2 rounded">
                    {{ tag.text }}
                    <span class="cursor-pointer text-xs text-red-500" onclick="removeTag({{bookmark.id}}, '{{tag.text}}', this)"> x</span>
                </span>
                {% endfor %}
            </div>
            <input type="text" onkeyup="handleTagInput(event, {{bookmark.id}})" placeholder="Add tags" class="tag-input p-1 border rounded">
        </td>
        <td class="px-4 py-2">{{ bookmark.date.strftime('%Y-%m-%d') }}</td>

    </tr>
    {% endfor %}
</tbody>
        </table>
    </div>

        <script src="{{ url_for('static', filename='tags.js') }}"></script>


</body>
</html>
